{% extends 'base.html' %}

{% block pageCss %}
<link rel="stylesheet" href="{{url_for('static', filename='style/comentario.css')}}">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

{% endblock %}

{% block pageTitle %} Comentarios {% endblock %}

{% block pageContent %}

<div class="container-sm global-container">
        <header>
            <h1 id="title">Scrum Tutor Survey Form </h1><br>
            <p id="description">Obrigado por disponibilizar parte do seu tempo para nos ajudar a melhorar a plataforma!</p>
        </header>

        <form id="survey-form" action="/submit_comentarios" method="POST">
            <div class="preencher">
                <label for="name" id="name-label">Nome:</label>
                <input style="color:black" type="text" name="Nome" id="Nome" placeholder="Digite o seu nome" required>

                <label for="numeber" id="number-label">ID:</label>
                <input style="color:black" type="number" min="0" name="RA" id="number" placeholder="Digite seu RA" required>
            </div>

            <label for="sugestoes">Você tem algum comentário para a plataforma?</label>
            <textarea style="color:black" id="sugestoes" name="Comentario" placeholder="Escreva aqui suas sugestões..." required></textarea>

            <button data-bs-toggle="modal" type="submit" id="submit" data-bs-target="#resultados" onclick="submitQuiz()">Enviar</button>
        </form>


  <!-- Modal para mostrar os resultados -->
  <!-- Modal -->
  <div class="modal fade" id="resultados" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" id="QUIZmodal" role="document">
        <div class="modal-content">
            <div class="modal-body">

                <!-- Conteúdo do Modal -->
                <div class="container-content text-center row">

                    <!-- Área da Imagem de Celebração (Parte da Esquerda) -->
                    <div class="content-block col-sm-5">
                        <img src="{{url_for('static' , filename='img/storyset/Celebration-rafiki.svg')}}" alt="" class="IMG-global">
                    </div>

                    <!-- Área dos Textos (Parte da Direita)-->
                    <div class="content-block col-sm-7">

                        <!-- Textos (Cima) -->
                        <div class="modal-text-container">
                            <h3 class="SUB-global ">
                                Parabéns!
                            </h3>
                            <p class="TXT-global">
                                Você acertou <b>{{score_final}} questões</b> e finalizou o <b>Curso</b>!
                            </p>
                            <p class="TXT-global">
                                <button onclick="window.location.href='/generate-pdf'">Clique aqui para baixar o certificado</button>
                            </p>
                        </div>

                        <!-- Botões (Baixo) -->
                        <div class="modal-btn-container">
                            <button type="button" class="BTN-global modal-close-btn" data-bs-dismiss="modal" aria-label="Close">
                                Fechar
                            </button>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>

  <!--Os scripts javascripts estão incluídos-->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
  crossorigin="anonymous"></script>

  <script>
    $(document).ready(function () {
        // Verifica se existe um score para mostrar, e se o modal deve ser exibido
        var score = "{{ score_final }}";
        if (score) {
            var myModal = new bootstrap.Modal(document.getElementById('resultados'));
            myModal.show();
        }
    });
</script>
</div>
    {% endblock %}